# 模板字符串

> 多说一句，真的好用

## 解释：

```` jvaaScript
1.简单来说，就是一个字符串，但是这个字符串里，可以省掉拼接字符串"+"符号，还可以自动保留换行符，空白符等;
2.变量的嵌入靠${a} ,a就是js代码，然后相当于执行完毕转为字符串
4. 如果用过例如Vue.js或者React之类，会发现写法有些相似。
5. vue、react等比这个强大多了=.=
````

>我已经觉得这个很好用了，你跟我说vue，react比这个好用...

## 挑一些我疑惑的写了

### trim方法

````    JavaScript
       var dom = $("#test");
    dom.css("white-space", "pre");
    var str = `今天
    明天
后天`;
    dom.html(str);
````

```` JavaScript
    var dom = $("#test");
    dom.css("white-space", "pre");
    var str = `
今天
    明天
后天`;
    dom.html(str.trim());

````

### 模板的嵌套

````   JavaScript
1.模板的本质是字符串，字符串是可以互相拼接，因此模板显然也是可以拼接的。
2.模板拼接后显然还是字符串，而字符串是可以变为变量的值，作为值后可以嵌套到模板里，因此模板可以被嵌套到模板里。
3.比较典型的嵌套显示是表格，表格的<table>标签作为根模板，每一行是一个子模板，每个子模板内嵌变量，拼接后就是一个表格。
4.因此只要有数据、就可以用简单的几行代码，就可以展现出表格
````

### 标签模板

#### 作用

```` JavaScript
1. 过滤HTML字符串，防止用户输入恶意内容。
2. JSX语法
````

#### 生效方式

```` JavaScript
1.具体来说:
     有模板（注意该模板不能被赋值为变量后使用）：
    `<p>变量1${a}，变量2${b}</p>`

     有函数:
    var fun = function (arr, arg1, arg2) {
        console.log(arr);
        console.log(arg1);
        console.log(arg2);
    }

2. 当调用函数fun处理模板时，根据使用方式不同，结果可能不同，具体而言：
    ——————————————————————————————————————————————————
     //情况1：（注意，模板没有被括号包含起来）
    var a = 10;
    var b = "b";
    fun`<p>变量1${a}，变量2${b}</p>`
    //有点奇怪....没用到过
    输出结果是：
    ["<p>变量1", "，变量2", "</p>", raw: Array[3]]
    10
    b
    ——————————————————————————————————————————————————
    //情况2：（模板被括号包含起来）
    var a = 10;
    var b = "b";
    fun(`<p>变量1${a}，变量2${b}</p>`)

    输出结果是：
    <p>变量110，变量2b</p>
    undefined
    undefined
    ——————————————————————————————————————————————————
3. 解释：
    情况二是常规情况，就不解释了。
    情况一中，当模板直接跟在函数名之后，被调用处理时，其并非是直接把模板解释为字符串后再被函数处理，而是将模板分拆成几部分
    具体来说：
    fun`<p>变量1${a}，变量2${b}</p>`
    相当于
    fun(["<p>变量1", "，变量2", "</p>"], 10, "b");
    也就是说，
    ①将模板里内嵌的变量从模板中依次提取出来，作为函数的第2、3、4……个参数；
    ②而模板本身被内嵌的变量分拆为（变量数 + 1）个部分，这些部分被依次放到一个数组中，并且将这个数组作为函数的第一个参数；

4. 通俗的总结：
    当模板直接跟在函数名后，模板被拆分为（变量数*2+1）个部分，其中非变量部分被放置在数组中，作为函数的第一个参数来处理，变量部分被依次放在函数的第2、3、4……个参数的位置。

5. 这种函数的处理方式被称为【标签模板】
````

